#!/usr/bin/env fish

# Set DOTFILES to the absolute path of this script
set DOTFILES (cd (dirname (status --current-filename)) && pwd)

# ==================================================
# Update this with all programs
# ==================================================
set programs fish ghostty

# Function to link the directory from dotfiles to into a subdirectory in .config
function linkConfig
    if test -d "$HOME/.config/$argv"
        mv "$HOME/.config/$argv" "$HOME/.config/$argv-backup"
    end
    ln -s "$DOTFILES/$argv" "$HOME/.config/$argv"
end

# Run linkConfig for all programs
for x in $programs
    linkConfig $x
end
